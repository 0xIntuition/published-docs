"use strict";(self.webpackChunkdocu_notion_sample_site=self.webpackChunkdocu_notion_sample_site||[]).push([[8995],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>h});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=a.createContext({}),l=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=l(e.components);return a.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,c=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=l(n),h=o,m=u["".concat(c,".").concat(h)]||u[h]||p[h]||r;return n?a.createElement(m,i(i({ref:t},d),{},{components:n})):a.createElement(m,i({ref:t},d))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=u;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var l=2;l<r;l++)i[l]=n[l];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},5406:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>l});var a=n(7462),o=(n(7294),n(3905));const r={title:"Contract Architecture",sidebar_position:0,slug:"/contracts"},i="Implementation Overview",s={unversionedId:"Protocol-&-Contracts/contracts",id:"Protocol-&-Contracts/contracts",title:"Contract Architecture",description:"112450d37d06805fa3d9ffabe11b3ee9}",source:"@site/docs/Protocol-&-Contracts/contracts.md",sourceDirName:"Protocol-&-Contracts",slug:"/contracts",permalink:"/contracts",draft:!1,tags:[],version:"current",sidebarPosition:0,frontMatter:{title:"Contract Architecture",sidebar_position:0,slug:"/contracts"},sidebar:"tutorialSidebar",previous:{title:"Remix + Vite",permalink:"/138450d3-7d06-80e9-a5a0-c3d29cfa648e"},next:{title:"Atoms",permalink:"/136450d3-7d06-806c-99f0-e7f238d02e74"}},c={},l=[{value:"EthMultiVault",id:"112450d37d0680c3a97bfc0b29da2b94",level:2},{value:"AtomWallet",id:"112450d37d068028899fe4a7819786c0",level:2}],d={toc:l};function p(e){let{components:t,...r}=e;return(0,o.kt)("wrapper",(0,a.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"112450d37d06805fa3d9ffabe11b3ee9"},"Implementation Overview"),(0,o.kt)("hr",null),(0,o.kt)("p",null,"Intuition's smart contracts are central to its blockchain architecture, handling critical on-chain activities such as the creation of Atoms (also known as Identities) and Triples (also known as Claims), as well as the staking processes on these elements. These contracts are integral to the economic interactions involved in creating and staking, ensuring a seamless and secure execution of these operations. Future development will expand how these smart contracts are used to govern various other integral components within the Intuition system, including Atom Claiming/Recovery, management of off-chain Atom Data, and various registries such as Bonding Curve, Primitive, Schema, Algorithm, and Interpretation Registries."),(0,o.kt)("p",null,"Acting as the Verifiable Data Registry, these smart contracts store crucial information like URIs of Atoms/Triples, the intricate relationships between them, and current stakeholder positions. They essentially form the nodes and edges of the knowledge graph. In contrast, the off-chain Verifiable Data Registry maintains the properties of these nodes and edges, creating a comprehensive and interconnected data structure."),(0,o.kt)("p",null,"Key components of the on-chain state of the knowledge graph include:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Atom wallets and vaults, along with their respective shares and balances."),(0,o.kt)("li",{parentName:"ol"},"AtomData, typically represented as bytes, usually pointing to a URI for off-chain data."),(0,o.kt)("li",{parentName:"ol"},"Triples and their constituent Atoms."),(0,o.kt)("li",{parentName:"ol"},"User positions on Atoms and Triples, reflecting current stakes and indicating who is attesting to what.")),(0,o.kt)("h1",{id:"112450d37d0680668530cf6197592d4d"},"Smart Contracts"),(0,o.kt)("hr",null),(0,o.kt)("p",null,"Intuition's architecture provides a flexible and secure framework for managing and upgrading smart contracts, with a particular focus on the ability to scale and govern changes in a controlled manner. The use of multi-signature authentication is core to Intuition\u2019s smart contract architecture to avoid single points of failure or abuse of power in the decentralized system. "),(0,o.kt)("p",null,(0,o.kt)("img",{src:n(2897).Z,width:"768",height:"421"})),(0,o.kt)("p",null,"There are two main contracts which contain the logic that is executed when the proxy contracts delegate calls to them. These contracts can be upgraded, but changes must pass through a time lock controller. "),(0,o.kt)("h2",{id:"112450d37d0680c3a97bfc0b29da2b94"},"EthMultiVault"),(0,o.kt)("p",null,"The primary contract in this framework, referred to as the EthMultiVault contract, blends and advances the ERC-4626 and ERC-1155 standards. This contract is a pivotal element of the Intuition protocol, facilitating a wide range of functionalities and providing a robust foundation for the decentralized knowledge graph."),(0,o.kt)("p",null,"Attributes of the EthMultiVault include: "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Upgradable through a ProxyAdmin, which serves as an intermediary to facilitate upgrades. This separation of concerns allows for a more secure upgrade process, as the upgrade action is isolated from the proxy that interacts with the end users."),(0,o.kt)("li",{parentName:"ul"},"Has the capability to deploy new ",(0,o.kt)("inlineCode",{parentName:"li"},"BeaconProxy")," contracts. When deployed, these ",(0,o.kt)("inlineCode",{parentName:"li"},"BeaconProxy")," contracts follow the beacon proxy pattern by referencing the ",(0,o.kt)("inlineCode",{parentName:"li"},"AtomWallet")," implementation through the ",(0,o.kt)("inlineCode",{parentName:"li"},"UpgradeableBeacon"),". This allows for a scalable deployment of new proxy instances without the need to redeploy the ",(0,o.kt)("inlineCode",{parentName:"li"},"AtomWallet")," logic."),(0,o.kt)("li",{parentName:"ul"},"The multisig admin also controls key contract parameters (such as the admin's address and various fees that are present in the protocol, etc.) of the ",(0,o.kt)("inlineCode",{parentName:"li"},"EthMultiVault"),". These parameters can be adjusted, but changes must pass through the timelock process present in the ",(0,o.kt)("inlineCode",{parentName:"li"},"EthMultiVault")," implementation contract, which introduces a delay between when an action is proposed and when it can be executed, giving stakeholders time to react to proposed changes if they wish to do so.")),(0,o.kt)("h2",{id:"112450d37d068028899fe4a7819786c0"},"AtomWallet"),(0,o.kt)("p",null,"Aside from EthMultiVault, the AtomWallet contract is a foundational element of the Intuition protocol, acting as an abstract account (wallet) linked to a specific atom. It leverages account abstraction standard (ERC-4337) to enable advanced transaction execution and management capabilities for atom-associated operations within the blockchain environment."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"AtomWallet"))),(0,o.kt)("p",null,"Linked to an ",(0,o.kt)("inlineCode",{parentName:"p"},"UpgradeableBeacon"),". This beacon contract holds the address of the current ",(0,o.kt)("inlineCode",{parentName:"p"},"AtomWallet")," implementation and can be upgraded by the multisig admin."),(0,o.kt)("p",null,"Proxy contracts, known as ",(0,o.kt)("inlineCode",{parentName:"p"},"BeaconProxy"),", use the beacon to reference the implementation, allowing multiple instances to be automatically updated when the beacon's implementation address cha"))}p.isMDXComponent=!0},2897:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/contracts.112450d3-7d06-80b9-9570-ff73ccc85a54-57299cc6968609be5db903cc00d65a57.png"}}]);